{"version":3,"sources":["Assets/Scripts/Camera/FocusePoint.js","Assets/Scripts/Camera/touch-input.js","Assets/Scripts/Camera/mouse-input.js","Assets/Scripts/Camera/orbit-camera.js","Assets/Scripts/Camera/camera-controller.js","Assets/Scripts/ButtonClick.js","Assets/Scripts/ColorManager.js","ui.js","Scripts/mirrorMaterial.js","Scripts/fps.js","loadingScreen.js","Scripts/tween.js"],"names":[],"mappings":"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","sourcesContent":["// FocusePoint.js\nvar FocusePoint = pc.createScript('focusePoint');\n\nFocusePoint.attributes.add(\"eventName\", { type: 'string' });\nFocusePoint.attributes.add(\"targetPoint\", { type: 'entity' });\n\nFocusePoint.prototype.initialize = function () {\n    this.app.on(this.eventName, function () {\n        this.app.fire('orbitCam:lookThisHotspot', this.entity.getPosition(), this.targetPoint.getPosition());\n    }, this);\n};\n\nFocusePoint.prototype.update = function (dt) {\n\n};\n\n\n\n","// touch-input.js\nvar TouchInput = pc.createScript('touchInput');\n\nTouchInput.attributes.add('orbitSensitivity', {\n    type: 'number',\n    default: 0.4,\n    title: 'Orbit Sensitivity',\n    description: 'How fast the camera moves around the orbit. Higher is faster'\n});\n\nTouchInput.attributes.add('distanceSensitivity', {\n    type: 'number',\n    default: 0.2,\n    title: 'Distance Sensitivity',\n    description: 'How fast the camera moves in and out. Higher is faster'\n});\n\n// initialize code called once per entity\nTouchInput.prototype.initialize = function () {\n    this.orbitCamera = this.entity.script.orbitCamera;\n    this.STOP_INTRACTION = false;\n    // Store the position of the touch so we can calculate the distance moved\n    this.lastTouchPoint = new pc.Vec2();\n    this.lastPinchMidPoint = new pc.Vec2();\n    this.lastPinchDistance = 0;\n\n    if (this.orbitCamera && this.app.touch) {\n        // Use the same callback for the touchStart, touchEnd and touchCancel events as they \n        // all do the same thing which is to deal the possible multiple touches to the screen\n        this.app.touch.on(pc.EVENT_TOUCHSTART, this.onTouchStartEndCancel, this);\n        this.app.touch.on(pc.EVENT_TOUCHEND, this.onTouchStartEndCancel, this);\n        this.app.touch.on(pc.EVENT_TOUCHCANCEL, this.onTouchStartEndCancel, this);\n\n        this.app.touch.on(pc.EVENT_TOUCHMOVE, this.onTouchMove, this);\n\n        this.on('destroy', function () {\n            this.app.touch.off(pc.EVENT_TOUCHSTART, this.onTouchStartEndCancel, this);\n            this.app.touch.off(pc.EVENT_TOUCHEND, this.onTouchStartEndCancel, this);\n            this.app.touch.off(pc.EVENT_TOUCHCANCEL, this.onTouchStartEndCancel, this);\n\n            this.app.touch.off(pc.EVENT_TOUCHMOVE, this.onTouchMove, this);\n        });\n    }\n\n    this.app.on(\"TouchInput:StopIntraction\", function (stop) {\n        this.STOP_INTRACTION = stop;\n    }, this);\n\n};\n\n\nTouchInput.prototype.getPinchDistance = function (pointA, pointB) {\n    // Return the distance between the two points\n    var dx = pointA.x - pointB.x;\n    var dy = pointA.y - pointB.y;\n\n    return Math.sqrt((dx * dx) + (dy * dy));\n};\n\n\nTouchInput.prototype.calcMidPoint = function (pointA, pointB, result) {\n    result.set(pointB.x - pointA.x, pointB.y - pointA.y);\n    result.scale(0.5);\n    result.x += pointA.x;\n    result.y += pointA.y;\n};\n\n\nTouchInput.prototype.onTouchStartEndCancel = function (event) {\n    if (this.STOP_INTRACTION) {\n        return;\n    }\n    // We only care about the first touch for camera rotation. As the user touches the screen, \n    // we stored the current touch position\n    var touches = event.touches;\n    if (touches.length == 1) {\n        this.lastTouchPoint.set(touches[0].x, touches[0].y);\n\n    } else if (touches.length == 2) {\n        // If there are 2 touches on the screen, then set the pinch distance\n        this.lastPinchDistance = this.getPinchDistance(touches[0], touches[1]);\n        this.calcMidPoint(touches[0], touches[1], this.lastPinchMidPoint);\n    }\n};\n\n\nTouchInput.fromWorldPoint = new pc.Vec3();\nTouchInput.toWorldPoint = new pc.Vec3();\nTouchInput.worldDiff = new pc.Vec3();\n\n\nTouchInput.prototype.pan = function (midPoint) {\n    var fromWorldPoint = TouchInput.fromWorldPoint;\n    var toWorldPoint = TouchInput.toWorldPoint;\n    var worldDiff = TouchInput.worldDiff;\n\n    // For panning to work at any zoom level, we use screen point to world projection\n    // to work out how far we need to pan the pivotEntity in world space \n    var camera = this.entity.camera;\n    var distance = this.orbitCamera.distance;\n\n    camera.screenToWorld(midPoint.x, midPoint.y, distance, fromWorldPoint);\n    camera.screenToWorld(this.lastPinchMidPoint.x, this.lastPinchMidPoint.y, distance, toWorldPoint);\n\n    worldDiff.sub2(toWorldPoint, fromWorldPoint);\n\n    this.orbitCamera.pivotPoint.add(worldDiff);\n    this.app.fire('cameraController:resetUserInputSession');\n};\n\n\nTouchInput.pinchMidPoint = new pc.Vec2();\n\nTouchInput.prototype.onTouchMove = function (event) {\n    var pinchMidPoint = TouchInput.pinchMidPoint;\n\n    // We only care about the first touch for camera rotation. Work out the difference moved since the last event\n    // and use that to update the camera target position \n    var touches = event.touches;\n    if (touches.length == 1) {\n        var touch = touches[0];\n\n        this.orbitCamera.pitch -= (touch.y - this.lastTouchPoint.y) * this.orbitSensitivity;\n        this.orbitCamera.yaw -= (touch.x - this.lastTouchPoint.x) * this.orbitSensitivity;\n\n        this.lastTouchPoint.set(touch.x, touch.y);\n\n    } else if (touches.length == 2) {\n        // Calculate the difference in pinch distance since the last event\n        var currentPinchDistance = this.getPinchDistance(touches[0], touches[1]);\n        var diffInPinchDistance = currentPinchDistance - this.lastPinchDistance;\n        this.lastPinchDistance = currentPinchDistance;\n\n        this.orbitCamera.distance -= (diffInPinchDistance * this.distanceSensitivity * 0.1) * (this.orbitCamera.distance * 0.1);\n\n        // Calculate pan difference\n        this.calcMidPoint(touches[0], touches[1], pinchMidPoint);\n        this.pan(pinchMidPoint);\n        this.lastPinchMidPoint.copy(pinchMidPoint);\n    }\n};\n\n\n","// mouse-input.js\nvar MouseInput = pc.createScript('mouseInput');\n\nMouseInput.attributes.add('orbitSensitivity', {\n    type: 'number',\n    default: 0.3,\n    title: 'Orbit Sensitivity',\n    description: 'How fast the camera moves around the orbit. Higher is faster'\n});\n\nMouseInput.attributes.add('distanceSensitivity', {\n    type: 'number',\n    default: 0.15,\n    title: 'Distance Sensitivity',\n    description: 'How fast the camera moves in and out. Higher is faster'\n});\n\n// initialize code called once per entity\nMouseInput.prototype.initialize = function () {\n\n    this.InitialPos = new pc.Vec3(this.entity.getPosition().x, this.entity.getPosition().y, this.entity.getPosition().z);\n    this.InitialRot = new pc.Vec3(this.entity.getEulerAngles().x, this.entity.getEulerAngles().y, this.entity.getEulerAngles().z);\n\n    this.STOP_INTRACTION = false;\n    this.saveEvent = null;\n\n    this.startValues = {\n        pos: this.InitialPos,\n        rot: this.InitialRot\n    };\n    this.cameraController = this.entity.script.cameraController;\n\n    if (this.cameraController) {\n        var self = this;\n\n        var onMouseOut = function (e) {\n            self.onMouseOut(e);\n        };\n\n        this.app.mouse.on(pc.EVENT_MOUSEDOWN, this.onMouseDown, this);\n        this.app.mouse.on(pc.EVENT_MOUSEUP, this.onMouseUp, this);\n        this.app.mouse.on(pc.EVENT_MOUSEMOVE, this.onMouseMove, this);\n        this.app.mouse.on(pc.EVENT_MOUSEWHEEL, this.onMouseWheel, this);\n\n        // Listen to when the mouse travels out of the window\n        window.addEventListener(\"mouseout\", onMouseOut, false);\n\n        // Remove the listeners so if this entity is destroyed\n        this.on(\"destroy\", function () {\n            this.app.mouse.off(pc.EVENT_MOUSEDOWN, this.onMouseDown, this);\n            this.app.mouse.off(pc.EVENT_MOUSEUP, this.onMouseUp, this);\n            this.app.mouse.off(pc.EVENT_MOUSEMOVE, this.onMouseMove, this);\n            this.app.mouse.off(pc.EVENT_MOUSEWHEEL, this.onMouseWheel, this);\n\n            window.removeEventListener(\"mouseout\", onMouseOut, false);\n        });\n    }\n\n    // Disabling the context menu stops the browser displaying a menu when\n    // you right-click the page\n    this.app.mouse.disableContextMenu();\n\n    this.lookButtonDown = false;\n    this.lastPoint = new pc.Vec2();\n\n    this.app.on(\"MouseInput:StopIntraction\", function (stop) {\n        this.STOP_INTRACTION = stop;\n    }, this);\n};\n\nMouseInput.fromWorldPoint = new pc.Vec3();\nMouseInput.toWorldPoint = new pc.Vec3();\nMouseInput.worldDiff = new pc.Vec3();\n\nMouseInput.prototype.onMouseDown = function (event) {\n    if (this.STOP_INTRACTION) {\n        return;\n    }\n    switch (event.button) {\n        case pc.MOUSEBUTTON_LEFT: {\n            this.lookButtonDown = true;\n        } break;\n\n        case pc.MOUSEBUTTON_MIDDLE:\n        case pc.MOUSEBUTTON_RIGHT:\n    }\n};\n\nMouseInput.prototype.onMouseUp = function (event) {\n    if (this.STOP_INTRACTION) {\n        return;\n    }\n    switch (event.button) {\n        case pc.MOUSEBUTTON_LEFT: {\n            this.lookButtonDown = false;\n        } break;\n        case pc.MOUSEBUTTON_MIDDLE:\n        case pc.MOUSEBUTTON_RIGHT:\n    }\n};\n\nMouseInput.prototype.onMouseMove = function (event) {\n    if (this.STOP_INTRACTION) {\n        return;\n    }\n    var mouse = pc.app.mouse;\n    if (this.lookButtonDown) {\n        this.cameraController.pitch -= event.dy * this.orbitSensitivity;\n        this.cameraController.yaw -= event.dx * this.orbitSensitivity;\n    }\n\n    this.lastPoint.set(event.x, event.y);\n\n    this.lastPoint.set(event.x, event.y);\n};\n\nMouseInput.prototype.onMouseWheel = function (event) {\n\n\n    this.cameraController.distance -=\n        event.wheel *\n        this.distanceSensitivity *\n        (this.cameraController.distance * 0.1);\n\n    event.event.preventDefault();\n};\n\nMouseInput.prototype.onMouseOut = function (event) {\n    this.lookButtonDown = false;\n};\n\n\n","// orbit-camera.js\nvar OrbitCamera = pc.createScript('orbitCamera');\n\nOrbitCamera.attributes.add('distanceMax', { type: 'number', default: 0, title: 'Distance Max', description: 'Setting this at 0 will give an infinite distance limit' });\nOrbitCamera.attributes.add('distanceMin', { type: 'number', default: 0, title: 'Distance Min' });\nOrbitCamera.attributes.add('pitchAngleMax', { type: 'number', default: 90, title: 'Pitch Angle Max (degrees)' });\nOrbitCamera.attributes.add('pitchAngleMin', { type: 'number', default: -90, title: 'Pitch Angle Min (degrees)' });\n\nOrbitCamera.attributes.add('inertiaFactor', {\n    type: 'number',\n    default: 0,\n    title: 'Inertia Factor',\n    description: 'Higher value means that the camera will continue moving after the user has stopped dragging. 0 is fully responsive.'\n});\n\nOrbitCamera.attributes.add('focusEntity', {\n    type: 'entity',\n    title: 'Focus Entity',\n    description: 'Entity for the camera to focus on. If blank, then the camera will use the whole scene'\n});\n\nOrbitCamera.attributes.add('frameOnStart', {\n    type: 'boolean',\n    default: true,\n    title: 'Frame on Start',\n    description: 'Frames the entity or scene at the start of the application.\"'\n});\n\nOrbitCamera.attributes.add('hotspotMoveSpeed', {\n    type: 'number',\n    default: 0.15,\n});\n\n\n// Property to get and set the distance between the pivot point and camera\n// Clamped between this.distanceMin and this.distanceMax\nObject.defineProperty(OrbitCamera.prototype, \"distance\", {\n    get: function () {\n        return this._targetDistance;\n    },\n\n    set: function (value) {\n        this._targetDistance = this._clampDistance(value);\n    }\n});\n\n\n// Property to get and set the pitch of the camera around the pivot point (degrees)\n// Clamped between this.pitchAngleMin and this.pitchAngleMax\n// When set at 0, the camera angle is flat, looking along the horizon\nObject.defineProperty(OrbitCamera.prototype, \"pitch\", {\n    get: function () {\n        return this._targetPitch;\n    },\n\n    set: function (value) {\n        this._targetPitch = this._clampPitchAngle(value);\n    }\n});\n\n\n// Property to get and set the yaw of the camera around the pivot point (degrees)\nObject.defineProperty(OrbitCamera.prototype, \"yaw\", {\n    get: function () {\n        return this._targetYaw;\n    },\n\n    set: function (value) {\n        this._targetYaw = value;\n\n        // Ensure that the yaw takes the shortest route by making sure that \n        // the difference between the targetYaw and the actual is 180 degrees\n        // in either direction\n        var diff = this._targetYaw - this._yaw;\n        var reminder = diff % 360;\n        if (reminder > 180) {\n            this._targetYaw = this._yaw - (360 - reminder);\n        } else if (reminder < -180) {\n            this._targetYaw = this._yaw + (360 + reminder);\n        } else {\n            this._targetYaw = this._yaw + reminder;\n        }\n    }\n});\n\n\n// Property to get and set the world position of the pivot point that the camera orbits around\nObject.defineProperty(OrbitCamera.prototype, \"pivotPoint\", {\n    get: function () {\n        return this._pivotPoint;\n    },\n\n    set: function (value) {\n        this._pivotPoint.copy(value);\n    }\n});\n\n\n// Moves the camera to look at an entity and all its children so they are all in the view\nOrbitCamera.prototype.focus = function (focusEntity) {\n    // Calculate an bounding box that encompasses all the models to frame in the camera view\n    this._buildAabb(focusEntity, 0);\n\n    var halfExtents = this._modelsAabb.halfExtents;\n\n    var distance = Math.max(halfExtents.x, Math.max(halfExtents.y, halfExtents.z));\n    distance = (distance / Math.tan(0.5 * this.entity.camera.fov * pc.math.DEG_TO_RAD));\n    distance = (distance * 2);\n\n    this.distance = distance;\n\n    this._removeInertia();\n\n    this._pivotPoint.copy(this._modelsAabb.center);\n};\n\n\nOrbitCamera.distanceBetween = new pc.Vec3();\n\n// Set the camera position to a world position and look at a world position\n// Useful if you have multiple viewing angles to swap between in a scene\nOrbitCamera.prototype.resetAndLookAtPoint = function (resetPoint, lookAtPoint) {\n    this.pivotPoint.copy(lookAtPoint);\n    this.entity.setPosition(resetPoint);\n\n    this.entity.lookAt(lookAtPoint);\n\n    var distance = OrbitCamera.distanceBetween;\n    distance.sub2(lookAtPoint, resetPoint);\n    this.distance = distance.length();\n\n    this.pivotPoint.copy(lookAtPoint);\n\n    var cameraQuat = this.entity.getRotation();\n    this.yaw = this._calcYaw(cameraQuat);\n    this.pitch = this._calcPitch(cameraQuat, this.yaw);\n\n    this._removeInertia();\n    this._updatePosition();\n};\n\n\n// Set camera position to a world position and look at an entity in the scene\n// Useful if you have multiple models to swap between in a scene\nOrbitCamera.prototype.resetAndLookAtEntity = function (resetPoint, entity) {\n    this._buildAabb(entity, 0);\n    this.resetAndLookAtPoint(resetPoint, this._modelsAabb.center);\n};\n\n\n// Set the camera at a specific, yaw, pitch and distance without inertia (instant cut)\nOrbitCamera.prototype.reset = function (yaw, pitch, distance) {\n    this.pitch = pitch;\n    this.yaw = yaw;\n    this.distance = distance;\n\n    this._removeInertia();\n};\n\nOrbitCamera.prototype.reset2 = function (yaw, pitch, distance) {\n    this.pitch = pitch;\n    this.yaw = yaw;\n    this.distance = distance;\n\n};\n\n\n/////////////////////////////////////////////////////////////////////////////////////////////\n// Private methods\n\nOrbitCamera.prototype.initialize = function () {\n    var self = this;\n    window.orbCam = this;\n    this.entity.tween(this.entity.getLocalPosition()).to({ x: -8, y: 0.4, z: 0 }, 1.5, pc.CubicInOut).reverse().start();\n    this.entity.tween(this.entity.camera.fov).to(60, 1.5, pc.CubicInOut).reverse().start();\n\n\n    var onWindowResize = function () {\n        self._checkAspectRatio();\n    };\n\n    window.addEventListener('resize', onWindowResize, false);\n\n    this._checkAspectRatio();\n\n    // Find all the models in the scene that are under the focused entity\n    this._modelsAabb = new pc.BoundingBox();\n    this._buildAabb(this.focusEntity || this.app.root, 0);\n\n    this.entity.lookAt(this._modelsAabb.center);\n\n    this._pivotPoint = new pc.Vec3();\n    this._pivotPoint.copy(this._modelsAabb.center);\n\n    // Calculate the camera euler angle rotation around x and y axes\n    // This allows us to place the camera at a particular rotation to begin with in the scene\n    var cameraQuat = this.entity.getRotation();\n\n    // Preset the camera\n    this._yaw = this._calcYaw(cameraQuat);\n    this._pitch = this._clampPitchAngle(this._calcPitch(cameraQuat, this._yaw));\n    this.entity.setLocalEulerAngles(this._pitch, this._yaw, 0);\n\n    this._distance = 0;\n\n    this._targetYaw = this._yaw;\n    this._targetPitch = this._pitch;\n\n    // If we have ticked focus on start, then attempt to position the camera where it frames\n    // the focused entity and move the pivot point to entity's position otherwise, set the distance\n    // to be between the camera position in the scene and the pivot point\n    if (this.frameOnStart) {\n        this.focus(this.focusEntity || this.app.root);\n    } else {\n        var distanceBetween = new pc.Vec3();\n        distanceBetween.sub2(this.entity.getPosition(), this._pivotPoint);\n        this._distance = this._clampDistance(distanceBetween.length());\n    }\n\n    this._targetDistance = this._distance;\n\n    // Reapply the clamps if they are changed in the editor\n    this.on('attr:distanceMin', function (value, prev) {\n        this._targetDistance = this._clampDistance(this._distance);\n    });\n\n    this.on('attr:distanceMax', function (value, prev) {\n        this._targetDistance = this._clampDistance(this._distance);\n    });\n\n    this.on('attr:pitchAngleMin', function (value, prev) {\n        this._targetPitch = this._clampPitchAngle(this._pitch);\n    });\n\n    this.on('attr:pitchAngleMax', function (value, prev) {\n        this._targetPitch = this._clampPitchAngle(this._pitch);\n    });\n\n    // Focus on the entity if we change the focus entity\n    this.on('attr:focusEntity', function (value, prev) {\n        if (this.frameOnStart) {\n            this.focus(value || this.app.root);\n        } else {\n            this.resetAndLookAtEntity(this.entity.getPosition(), value || this.app.root);\n        }\n    });\n\n    this.on('attr:frameOnStart', function (value, prev) {\n        if (value) {\n            this.focus(this.focusEntity || this.app.root);\n        }\n    });\n\n    this.on('destroy', function () {\n        window.removeEventListener('resize', onWindowResize, false);\n    });\n\n\n\n\n    ///////////////////////////Hotspot Movement/////////////////////////////////////\n\n    //BM\n    this.teCam = new pc.Entity();\n    this.Goto = false;\n    this.GotoTimer = 0.0;\n    this.GotoSpeed = 1.0;\n\n    this.newDis = new pc.Vec3();\n\n    this._lockPivot = new pc.Vec3();\n    this._lockDist = 0.0;\n    this._lockYaw = 0.0;\n    this._lockPitch = 0.0;\n\n    this.camPos = new pc.Vec3();\n    this.camRot = new pc.Quat();\n    this.targPos = new pc.Vec3();\n    this.targRot = new pc.Quat();\n    this.startPos = new pc.Vec3();\n    this.startRot = new pc.Quat();\n\n    this.app.on('orbitCam:lookThisHotspot', function (resetPoint, lookAtPoint) {\n        if (self.Goto) return;\n        console.log(\"resetAndLookAtPoint\");\n        self._lockPivot.copy(lookAtPoint);         //重置要素：目标点 \n\n        self.teCam.setPosition(resetPoint);          //重置要素：相机位置   \n        self.teCam.lookAt(lookAtPoint);              //重置关联：相机旋转   \n\n        self.newDis.sub2(lookAtPoint, resetPoint);\n\n        self.startPos.copy(self.entity.getPosition());\n        self.startRot.copy(self.entity.getRotation());\n        self.targPos.copy(self.teCam.getPosition());\n        self.targRot.copy(self.teCam.getRotation());\n\n        self._lockDist = self.newDis.length();\n        self._lockYaw = self._calcYaw(self.targRot);\n        self._lockPitch = self._calcPitch(self.targRot, self._targetYaw);\n\n\n        self.Goto = true;\n        self.GotoTimer = 0.0;\n    });\n\n\n};\n\n\nOrbitCamera.prototype.update = function (dt) {\n    if (this.Goto) {\n        this.justDoOnce = true;\n        if (this.GotoTimer < 1.0) {\n\n            // console.log(this.GotoTimer);\n            this.GotoTimer += this.GotoSpeed * dt;\n            var vt = Math.sin((this.GotoTimer - 0.5) * 3.1416) * 0.5 + 0.5;\n            // var vt = pc.math.clamp(this.GotoTimer,0,1);\n            this.camPos.lerp(this.startPos, this.targPos, vt);\n            this.camRot.slerp(this.startRot, this.targRot, vt);\n            this.entity.setPosition(this.camPos);\n            this.entity.setRotation(this.camRot);\n\n            var v1 = this.startPos;\n            var v2 = this.targPos;\n            var d = v1.distance(v2);\n\n            // this._distance = 0;\n        }\n        else {\n            this.GotoTimer = 1.0;\n            this.Goto = false;\n\n            this.newDis.sub2(this._lockPivot, this.entity.getPosition());\n            this._targetDistance = this.newDis.length();\n            this._targetYaw = this._calcYaw(this.entity.getRotation());\n            this._targetPitch = this._calcPitch(this.entity.getRotation(), this._targetYaw);\n            //this._distance = 0;\n            this.pivotPoint.copy(this._lockPivot);\n            this._removeInertia();\n            this._updatePosition();\n        }\n    }\n    else {\n\n        var t = this.inertiaFactor === 0 ? 1 : Math.min(dt / this.inertiaFactor, 1);\n        this._distance = pc.math.lerp(this._distance, this._targetDistance, t);\n        this._yaw = pc.math.lerp(this._yaw, this._targetYaw, t);\n        this._pitch = pc.math.lerp(this._pitch, this._targetPitch, t);\n        this._updatePosition();\n    }\n\n};\n\n\nOrbitCamera.prototype._updatePosition = function () {\n    // Work out the camera position based on the pivot point, pitch, yaw and distance\n    this.entity.setLocalPosition(0, 0, 0);\n    this.entity.setLocalEulerAngles(this._pitch, this._yaw, 0);\n\n    var position = this.entity.getPosition();\n    position.copy(this.entity.forward);\n    position.scale(-this._distance);\n    position.add(this.pivotPoint);\n    this.entity.setPosition(position);\n};\n\n\nOrbitCamera.prototype._removeInertia = function () {\n    this._yaw = this._targetYaw;\n    this._pitch = this._targetPitch;\n    this._distance = this._targetDistance;\n};\n\n\nOrbitCamera.prototype._checkAspectRatio = function () {\n    var height = this.app.graphicsDevice.height;\n    var width = this.app.graphicsDevice.width;\n\n    // Match the axis of FOV to match the aspect ratio of the canvas so\n    // the focused entities is always in frame\n    this.entity.camera.horizontalFov = height > width;\n};\n\n\nOrbitCamera.prototype._buildAabb = function (entity, modelsAdded) {\n    var i = 0;\n\n    if (entity.model) {\n        var mi = entity.model.meshInstances;\n        for (i = 0; i < mi.length; i++) {\n            if (modelsAdded === 0) {\n                this._modelsAabb.copy(mi[i].aabb);\n            } else {\n                this._modelsAabb.add(mi[i].aabb);\n            }\n\n            modelsAdded += 1;\n        }\n    }\n\n    for (i = 0; i < entity.children.length; ++i) {\n        modelsAdded += this._buildAabb(entity.children[i], modelsAdded);\n    }\n\n    return modelsAdded;\n};\n\n\nOrbitCamera.prototype._calcYaw = function (quat) {\n    var transformedForward = new pc.Vec3();\n    quat.transformVector(pc.Vec3.FORWARD, transformedForward);\n\n    return Math.atan2(-transformedForward.x, -transformedForward.z) * pc.math.RAD_TO_DEG;\n};\n\n\nOrbitCamera.prototype._clampDistance = function (distance) {\n    if (this.distanceMax > 0) {\n        return pc.math.clamp(distance, this.distanceMin, this.distanceMax);\n    } else {\n        return Math.max(distance, this.distanceMin);\n    }\n};\n\n\nOrbitCamera.prototype._clampPitchAngle = function (pitch) {\n    // Negative due as the pitch is inversed since the camera is orbiting the entity\n    return pc.math.clamp(pitch, -this.pitchAngleMax, -this.pitchAngleMin);\n};\n\n\nOrbitCamera.quatWithoutYaw = new pc.Quat();\nOrbitCamera.yawOffset = new pc.Quat();\n\nOrbitCamera.prototype._calcPitch = function (quat, yaw) {\n    var quatWithoutYaw = OrbitCamera.quatWithoutYaw;\n    var yawOffset = OrbitCamera.yawOffset;\n\n    yawOffset.setFromEulerAngles(0, -yaw, 0);\n    quatWithoutYaw.mul2(yawOffset, quat);\n\n    var transformedForward = new pc.Vec3();\n\n    quatWithoutYaw.transformVector(pc.Vec3.FORWARD, transformedForward);\n\n    return Math.atan2(transformedForward.y, -transformedForward.z) * pc.math.RAD_TO_DEG;\n};\n\n","// camera-controller.js\nvar CameraController = pc.createScript(\"cameraController\");\n\n\nObject.defineProperty(CameraController.prototype, \"distance\", {\n  get: function () {\n    return this.orbitCamera.distance;\n  },\n\n  set: function (value) {\n    this.orbitCamera.distance = value;\n    this.secsSinceUserInput = 0;\n  }\n});\n\nObject.defineProperty(CameraController.prototype, \"pitch\", {\n  get: function () {\n    return this.orbitCamera.pitch;\n  },\n\n  set: function (value) {\n    this.orbitCamera.pitch = value;\n    this.secsSinceUserInput = 0;\n  }\n});\n\n// Property to get and set the yaw of the camera around the pivot point (degrees)\nObject.defineProperty(CameraController.prototype, \"yaw\", {\n  get: function () {\n    return this.orbitCamera.yaw;\n  },\n\n  set: function (value) {\n    this.orbitCamera.yaw = value;\n    this.secsSinceUserInput = 0;\n  }\n});\n\nCameraController.prototype.initialize = function () {\n  this.orbitCamera = this.entity.script.orbitCamera;\n  this.app.on('cameraController:resetUserInputSession', function () {\n    this.secsSinceUserInput = 0;\n  }, this);\n  this.animateOnload = 0;\n};\n\nCameraController.prototype.update = function (dt) {\n  if (window.innerWidth <= 1010) {\n    this.entity.camera.rect.z = 1;\n  } else {\n    this.entity.camera.rect.z = 0.8;\n  }\n  this.app.on('handle', () => { this.secsSinceUserInput = 0; }, this);\n  this.app.on('side', () => { this.secsSinceUserInput = 0; }, this);\n  this.app.on('top', () => { this.secsSinceUserInput = 0; }, this);\n  this.app.on('head', () => { this.secsSinceUserInput = 0; }, this);\n  this.app.on('origin', () => { this.secsSinceUserInput = 0; }, this);\n  this.secsSinceUserInput += dt;\n  this.secsIdleAutoOrbit = 10;\n  if (this.secsSinceUserInput >= this.secsIdleAutoOrbit) {\n    if (!this.orbiting) {\n      this.app.root.findByName('Camera').script.orbitCamera.enabled = true;\n      this.app.fire('origin');\n    }\n  }\n};\n\n\nCameraController.prototype.postInitialize = function () {\n  if (this.orbitCamera) {\n    this.startDistance = this.orbitCamera.distance;\n    this.startYaw = this.orbitCamera.yaw;\n    this.startPitch = this.orbitCamera.pitch;\n    this.startPivotPosition = this.orbitCamera.pivotPoint.clone();\n  }\n};\n\n","// ButtonClick.js\nvar ButtonClick = pc.createScript('buttonClick');\n\nButtonClick.attributes.add('event', { type: 'string' });\nButtonClick.prototype.initialize = function () {\n    this.entity.element.on('click', function (evt) {\n        console.log(\"as\");\n        this.app.fire(this.event);\n    }, this);\n};\n\n\n","// ColorManager.js\nvar ColorManager = pc.createScript('colorManager');\n\nColorManager.attributes.add('model', { type: 'entity' });\nColorManager.attributes.add('materials', { type: 'asset', assetType: 'material', array: true });\n\nColorManager.prototype.initialize = function () {\n    this.app.on('ColorManager:Red', function () {\n        this.changeMat(2);\n    }, this);\n    this.app.on('ColorManager:Blue', function () {\n        this.changeMat(1);\n    }, this);\n\n    this.app.on('ColorManager:Green', function () {\n        this.changeMat(4);\n    }, this);\n\n    this.app.on('ColorManager:Yellow', function () {\n        this.changeMat(3);\n    }, this);\n\n    this.app.on('ColorManager:Pink', function () {\n        this.changeMat(0);\n    }, this);\n};\n\n// update code called every frame\nColorManager.prototype.changeMat = function (id) {\n    if (this.model && this.model.render) {\n        var material = this.model.render.meshInstances[0].material;\n        if (material) {\n            this.model.render.meshInstances[0].material = this.materials[id].resource;\n            material.update();\n        }\n    }\n};\n\n\n","// ui.js\nvar Ui = pc.createScript('ui');\n\nUi.attributes.add('css', { type: 'asset', assetType: 'css', title: 'CSS Asset' });\nUi.attributes.add('html', { type: 'asset', assetType: 'html', title: 'HTML Asset' });\nUi.attributes.add('header', { type: 'asset', assetType: 'html', title: 'header Asset' });\n\nUi.attributes.add('bodyPart', { type: 'entity' });\nUi.attributes.add('bumperPart', { type: 'entity' });\nUi.attributes.add('seatPart', { type: 'entity' });\nUi.attributes.add('handlePart', { type: 'entity' });\nUi.prototype.initialize = function () {\n    // create STYLE element\n    var style = document.createElement('style');\n\n    // append to head\n    document.head.appendChild(style);\n    style.innerHTML = this.css.resource || '';\n    // console.log(style.innerHTML);\n    var bootstrapCss = document.createElement('link');\n    var bootstrapJs = document.createElement('script');\n    bootstrapCss.rel = 'stylesheet';\n    bootstrapCss.href = 'https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css';\n    bootstrapJs.src = 'https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js';\n    document.head.appendChild(bootstrapCss);\n    document.head.appendChild(bootstrapJs);\n    // Add the HTML\n    this.div = document.createElement('div');\n    this.div.classList.add('wrapper');\n    this.navbar = document.createElement('div');\n    this.navbar.classList.add('navbar');\n    this.div.innerHTML = this.html.resource || '';\n    this.navbar.innerHTML = this.header.resource || '';\n    // console.log(this.div.innerHTML);\n\n    // append to body\n    // can be appended somewhere else\n\n    document.body.appendChild(this.div);\n    document.body.appendChild(this.navbar);\n\n    this.bindEvents();\n\n    if (window.innerWidth <= 1010) {\n        document.getElementById('accordionExample').style.display = 'none';\n        document.getElementById('mobileView').style.display = 'block';\n    } else {\n        this.app.mouse.on('mousedown', (e) => {\n            if (e.element.id == 'application-canvas') {\n                pc.app.root.findByName('Camera').script.orbitCamera.enabled = true;\n            } else {\n                pc.app.root.findByName('Camera').script.orbitCamera.enabled = false;\n            }\n        }, this);\n        document.getElementById('accordionExample').style.display = 'block';\n        document.getElementById('mobileView').style.display = 'none';\n    }\n};\nUi.prototype.update = function () {\n    if (window.innerWidth <= 1010) {\n        document.getElementById('accordionExample').style.display = 'none';\n        document.getElementById('mobileView').style.display = 'block';\n    } else {\n        document.getElementById('accordionExample').style.display = 'block';\n        document.getElementById('mobileView').style.display = 'none';\n    }\n};\nUi.prototype.bindEvents = function () {\n\n    var self = this;\n    // example\n    //\n    // get button element by class\n    var activeAccordion = '';\n    this.selectedPart;\n    var buttons = document.getElementsByClassName(\"accordion-button\");\n    var clickedColor = document.getElementsByClassName(\"color-select-item_color\");\n    var resetToOrigin = document.getElementById(\"resetToOrigin\");\n    var clickedTab = document.getElementsByClassName(\"tabButton\");\n    resetToOrigin.addEventListener('click', function (e) {\n        e.preventDefault();\n        pc.app.fire('origin');\n        activeAccordion = 'Origin';\n    });\n    if (clickedColor.length > 0) {\n        for (var i = 0; i < clickedColor.length; ++i) {\n            clickedColor[i].addEventListener('click', (e) => {\n                var selectedColor = e.target.style.backgroundColor.replace(/[^\\d,]/g, '').split(',');\n                var material;\n                if (activeAccordion == 'Body') {\n                    material = this.bodyPart.render.meshInstances[0].material;\n                    material.diffuse.set(selectedColor[0] / 255, selectedColor[1] / 255, selectedColor[2] / 255);\n                    material.update();\n                } else if (activeAccordion == 'Bumper') {\n                    material = this.bumperPart.render.meshInstances[0].material;\n                    material.diffuse.set(selectedColor[0] / 255, selectedColor[1] / 255, selectedColor[2] / 255);\n                    material.update();\n                } else if (activeAccordion == 'Seat') {\n                    var selectedTexture = e.target.nextElementSibling.innerText.replace(/ /g, \"-\").toLowerCase();\n                    var fullString = 'seat_' + selectedTexture + '.jpg';\n                    this.seatPart.render.material.diffuseMap = pc.app.assets.find(fullString).resource;\n                    this.seatPart.render.material.update();\n                    console.log(this.seatPart.render.material.diffuseMap);\n                } else if (activeAccordion == 'Handle') {\n                    material = this.handlePart.render.meshInstances[0].material;\n                    material.diffuse.set(selectedColor[0] / 255, selectedColor[1] / 255, selectedColor[2] / 255);\n                    material.update();\n                    console.log(this.handlePart.render.meshInstances[0].material);\n                }\n            });\n        }\n    }\n    Array.prototype.forEach.call(document.getElementsByClassName(\"tabButton\"), (child) => {\n        activeAccordion = 'Body';\n        child.addEventListener('click', (e) => {\n            console.log(e.target.innerText);\n            if (e.target.innerText == 'Bumper') {\n                activeAccordion = 'Bumper';\n                pc.app.fire('head');\n            } else if (e.target.innerText == 'Seat') {\n                activeAccordion = 'Seat';\n                pc.app.fire('top');\n            } else if (e.target.innerText == 'Body') {\n                activeAccordion = 'Body';\n                pc.app.fire('side');\n            } else if (e.target.innerText == 'Handle') {\n                activeAccordion = 'Handle';\n                pc.app.fire('handle');\n            }\n            for (var i = 0; i < clickedTab.length; ++i) {\n                if (e.target == clickedTab[i]) {\n                    child.classList.add('mobileActive');\n                } else {\n                    clickedTab[i].classList.remove('mobileActive');\n                }\n\n            }\n        });\n    });\n    // if found\n    if (buttons.length > 0) {\n        for (var i = 0; i < buttons.length; ++i) {\n            buttons[i].addEventListener('click', function (e) {\n                pc.app.root.findByName('Camera').script.orbitCamera.enabled = true;\n                const siblings = e.target.closest(\".accordion\").querySelectorAll(\".accordionButton\");\n                e.target.classList.toggle(\"active\");\n                Array.prototype.forEach.call(siblings, child => {\n                    if (child != e.target) {\n                        child.nextElementSibling.style.maxHeight = null;\n                    } else {\n                        e.target.nextElementSibling.style.maxHeight = child.nextElementSibling.scrollHeight + \"px\";\n                    }\n                });\n                if (e.target.innerText == 'Bumper') {\n                    activeAccordion = 'Bumper';\n                    pc.app.fire('head');\n                } else if (e.target.innerText == 'Seat') {\n                    activeAccordion = 'Seat';\n                    pc.app.fire('orbit:top');\n                    pc.app.fire('top');\n                } else if (e.target.innerText == 'Body') {\n                    activeAccordion = 'Body';\n                    pc.app.fire('side');\n                } else if (e.target.innerText == 'Handle') {\n                    activeAccordion = 'Handle';\n                    pc.app.fire('handle');\n                }\n            }, false);\n        }\n    }\n\n};\n\n","// mirrorMaterial.js\nvar MirrorMaterial = pc.createScript('mirrorMaterial');\n\nMirrorMaterial.attributes.add('primitive', { type: 'boolean' });\nMirrorMaterial.attributes.add('density', { type: 'number' });\nMirrorMaterial.attributes.add('onlyTag', { type: 'string' });\n\nMirrorMaterial.attributes.add('shaderPS', { type: 'asset', assetType: 'shader' });\n\nvar world2reflMirror;\nvar tmpView = new pc.Mat4();\nvar tmpView2 = new pc.Mat4();\nvar tmpView3 = new pc.Mat4();\nvar planeQ = new pc.Vec4();\nvar planeV = new pc.Vec4();\nvar planePosV = new pc.Vec3();\nvar planeNormalV = new pc.Vec3();\nvar planePosWM, planeNormalWM;\nvar planeAV, planeBV, planeCV, planeDV;\nvar projInv = new pc.Mat4();\nvar pointsV = [new pc.Vec4(), new pc.Vec4(), new pc.Vec4(), new pc.Vec4()];\nvar prevGlobalMatrix = new pc.Mat4();\nvar tmpQuat = new pc.Quat();\nvar mirrorLookAt = new pc.Vec3();\nvar localPlayerPos = new pc.Vec3();\nvar afterTransitionPos = new pc.Vec3();\nvar reflectedCamPos = new pc.Vec3();\nvar reflectedCamDir = new pc.Vec3();\nvar invPortalPlane = new pc.Vec3();\nvar activeMirror = null;\nvar mirrorFrustum = new pc.Frustum();\nvar tempSphereMirror = {center:null, radius:0};\n\nvar mirrorBit = 0;\nvar atf = {};\n\nvar MAX3D_SCALE = 1;\n\nvar MIRRORSTATE_FAR = 0;\nvar MIRRORSTATE_NEAR = 1;\nvar MIRRORSTATE_TOUCH = 2;\nvar MIRRORSTATE_SWITCH = 3;\nvar MIRRORSTATE_POST = 4;\nvar MIRRORSTATE_OFF = 5;\n\nvar mirrorTransition = 0;\nvar mirrorDefaultFov = 0;\n\nfunction reflectionMatrix(a,b,c,d) {\n    var m = new pc.Mat4();\n    \n    m.data[0] = 1.0 - 2*a*a;\n    m.data[1] = -2*a*b;\n    m.data[2] = -2*a*c;\n    m.data[3] = -2*a*d;\n    \n    m.data[4] = -2*a*b;\n    m.data[5] = 1.0 - 2*b*b;\n    m.data[6] = -2*b*c;\n    m.data[7] = -2*b*d;\n    \n    m.data[8] = -2*a*c;\n    m.data[9] = -2*b*c;\n    m.data[10] = 1.0 - 2*c*c;\n    m.data[11] = -2*c*d;\n    \n    m.data[12] = 0;\n    m.data[13] = 0;\n    m.data[14] = 0;\n    m.data[15] = 1;\n    \n    m.transpose();\n\n    return m;\n}\n\nfunction customTransformFuncMirror(mat, mode) {\n    var pos = this.node.getPosition();\n    var rot = this.node.getRotation();\n    mat.setTRS(pos, rot, pc.Vec3.ONE);\n    mat.mul2(world2reflMirror, mat);\n}\n\nfunction customProjFuncMirror(mat, mode) {\n    if (this.projection === pc.PROJECTION_PERSPECTIVE) {\n        mat.setPerspective(this.fov, this.aspectRatio, this.nearClip, this.farClip, this.horizontalFov);\n    } else {\n        // var y = this.orthoHeight;\n        var y  = 0;\n        var x = y * this.aspectRatio;\n        mat.setOrtho(-x, x, -y, y, this.nearClip, this.farClip);\n    }\n    \n    // Transform world space plane to view space\n    var pos = this.node.getPosition();\n    var rot = this.node.getRotation();\n    tmpView.setTRS(pos, rot, pc.Vec3.ONE).invert();\n    tmpView.transformPoint(planePosWM, planePosV);\n    tmpView.transformVector(planeNormalWM, planeNormalV).normalize();\n    planeAV = planeNormalV.x;\n    planeBV = planeNormalV.y;\n    planeCV = planeNormalV.z;\n    planeDV = -planePosV.dot(planeNormalV);\n    planeV.set(planeAV, planeBV, planeCV, planeDV);\n    \n    // Apply oblique transform\n    projInv.copy(mat).invert();\n    planeQ.set(sgn(planeAV), sgn(planeBV), 1.0, 1.0);\n    projInv.transformVec4(planeQ, planeQ);\n    planeV.scale( 2.0 / planeV.dot(planeQ) );    \n    \n    // third row = clip plane - fourth row\n    var projection = mat.data;\n    projection[2] = planeV.x - projection[3];\n    projection[6] = planeV.y - projection[7];\n    projection[10] = planeV.z - projection[11];\n    projection[14] = planeV.w - projection[15];\n}\n\nfunction sgn(a) {\n    if (a > 0.0) return 1.0;\n    if (a < 0.0) return -1.0;\n    return 0.0;\n}\n\nMirrorMaterial.prototype.isVisible = function (camera) {\n    var frustum = camera.frustum;\n    var bp = this.pointsW;\n    var outside, plane, point;\n\n    var projMat = camera.projectionMatrix;\n    frustum.setFromMat4(projMat);\n    \n    for(plane=0; plane<6; plane++) {\n        outside = (frustum.planes[plane][0] * bp[0].x +\n                 frustum.planes[plane][1] * bp[0].y +\n                 frustum.planes[plane][2] * bp[0].z +\n                 frustum.planes[plane][3] <= 0);\n        //console.log(plane+\" \"+outside);\n        if (outside) {\n            for(point=1; point<4; point++) {\n                if (frustum.planes[plane][0] * bp[point].x +\n                     frustum.planes[plane][1] * bp[point].y +\n                     frustum.planes[plane][2] * bp[point].z +\n                     frustum.planes[plane][3] > 0) {\n                        outside = false;\n                        break;\n                }\n            }\n        }\n        if (outside) return false;\n    }\n\n    return true;\n};\n\n// initialize code called once per entity\nMirrorMaterial.prototype.initialize = function() {\n    var app = this.app;\n    var device = app.graphicsDevice;\n    var chunks = pc.shaderChunks;\n\n    this.cam = app.root.findByName(\"Camera\").camera;\n    \n    var planeAW, planeBW, planeCW, planeDW;\n    \n    this.nearDist = 3.0;\n    \n    var meshInstance = this.entity.render.meshInstances[0];\n    \n    var rt = atf.mirrorRt;\n    if (!rt) {\n        var material = meshInstance.material;\n        material.customFragmentShader = this.shaderPS.resource;\n        material.blendType = pc.BLEND_NORMAL;\n        material.update();\n        pc.mirrorMaterial = material;\n        \n        pc.fallbackMirrorMaterial = material.clone();\n        this.setSky( 2 ); // sky quality\n        \n        var texFormat = pc.PIXELFORMAT_R8_G8_B8_A8;\n        if (device.webgl2 && device.extTextureFloatRenderable) {\n            texFormat = pc.PIXELFORMAT_111110F;\n        } else if (device.extTextureHalfFloatRenderable && device.extTextureHalfFloatLinear) {\n            texFormat = pc.PIXELFORMAT_RGBA16F;\n        }\n        \n        var tex = new pc.Texture(device, {\n            width: device.width,\n            height: device.height,\n            format: texFormat,\n            autoMipmap: false\n        });\n        tex.addressU = pc.ADDRESS_CLAMP_TO_EDGE;\n        tex.addressV = pc.ADDRESS_CLAMP_TO_EDGE;\n        tex.magFilter = pc.FILTER_LINEAR;\n        tex.minFilter = pc.FILTER_LINEAR;\n        atf.mirrorRt = rt = new pc.RenderTarget(device, tex, {\n            samples: 4,\n            depth: true,\n            stencil: true\n        });\n        device.scope.resolve(\"mirrorTex\").setValue(tex);\n\n    }\n    this.rt = rt;\n    \n    meshInstance.setParameter(\"mirrorDepthOffset\", 0.0);\n    meshInstance.setParameter(\"mirrorDensity\", this.density===0.0? 1.0 : this.density);\n    \n    var entity = this.primitive ? this.entity : this.entity.children[0].children[0];\n    \n    this.planePosW = entity.getPosition();\n    this.planeNormalW = entity.forward;\n    this.planeRightW = entity.right;\n    this.planeNormalWOrig = this.planeNormalW.clone();\n    planeAW = this.planeNormalW.x;\n    planeBW = this.planeNormalW.y;\n    planeCW = this.planeNormalW.z;\n    planeDW = -this.planePosW.dot(this.planeNormalW);\n    this.world2refl = reflectionMatrix(planeAW, planeBW, planeCW, planeDW);\n    this.planeDW = planeDW;\n    \n    this.maxXdiff = entity.getLocalScale().x*0.5 * MAX3D_SCALE;\n    \n    var dips = app.scene.drawCalls;\n    \n    // scene dips - off + on\n    this.dipsReflect = []; \n    \n    // scene dips\n    this.dipsReflect2 = []; \n    var i;\n    var aabb;\n    var me = meshInstance.material;\n    var offtag = this.entity.name+\"_off\";\n    var offtag2 = \"DontMirror\";\n    var onlyTag = this.onlyTag;\n    var useOnlyTag = (onlyTag!==undefined && onlyTag!==\"\" && onlyTag!==null);\n    \n    for(i=0; i<dips.length; i++) {\n        if (dips[i].node) {\n            \n            if (dips[i].material===me) continue;\n            var parent = dips[i].node;\n            var hastag = false;\n            var hastag2 = false;\n            var hastag3 = false;\n            while(parent) {\n                if (parent.tags && parent.tags.has(offtag)) {\n                    hastag = true;\n                }\n                if (parent.tags && parent.tags.has(offtag2)) {\n                    hastag2 = true;\n                }\n                if (useOnlyTag && parent.tags && parent.tags.has(onlyTag)) {\n                    hastag3 = true;\n                }\n                parent = parent.parent;\n            }\n            \n            dips[i].node.getWorldTransform(); \n            aabb = dips[i].aabb;\n            \n            if (useOnlyTag) {\n                if (hastag3 || dips[i].command) {\n                    this.dipsReflect.push(dips[i]);\n                }\n            } else {\n                if (!hastag && !hastag2) this.dipsReflect.push(dips[i]);\n                this.dipsReflect2.push(dips[i]);\n            }\n        }\n    }\n    \n    var self = this;\n    \n    var addAsyncEntity = function(entity) {\n        var id = entity.model.asset;\n        if (! id) return;\n\n        var asset = app.assets.get(id);\n        if (! asset) return;\n        \n        asset.once('load', function() {\n            meshes = entity.render.meshInstances;\n            for(j=0; j<meshes.length; j++) {\n                self.dipsReflect.push(meshes[j]);\n                self.dipsReflect2.push(meshes[j]);\n            }\n        });\n        \n        app.assets.load(asset);\n    };\n    \n    var tagged = app.root.findByTag(\"MirrorOnly\");\n    var j;\n    var meshes;\n    for(i=0; i<tagged.length; i++) {\n        if (!tagged[i].enabled) continue;\n        \n        if (tagged[i].render) {\n            meshes = tagged[i].render.meshInstances;\n            for(j=0; j<meshes.length; j++) {\n                this.dipsReflect.push(meshes[j]);\n                this.dipsReflect2.push(meshes[j]);\n            }\n        } else {\n            addAsyncEntity(tagged[i]);\n        }\n    }\n    tagged = app.root.findByTag(this.entity.name+\"_on\");\n    for(i=0; i<tagged.length; i++) {\n        if (!tagged[i].enabled) continue;\n        meshes = tagged[i].render.meshInstances;\n        for(j=0; j<meshes.length; j++) {\n            this.dipsReflect.push(meshes[j]);\n        }\n    }\n    this.objectsOn = tagged;\n    this.objectsOff = app.root.findByTag(offtag);\n       \n    this.init = false;\n    \n    if (!pc.mirrorCount) {\n        pc.mirrorCount = 0;\n        pc.mirrorsToRender = 0;\n        pc.mirrorList = [];\n        pc.dipsMirror = [];\n        pc.distortionNearFade = 1;\n        pc.isMirrorClose = false;\n        pc.mirrorsDrawn = 0;\n        this.first = true;\n    } else {\n        this.first = false;\n    }\n    pc.mirrorCount++;\n    pc.mirrorList.push(this);\n    \n    var markerMat = new pc.BasicMaterial();\n    markerMat.redWrite = false;\n    markerMat.greenWrite = false;\n    markerMat.blueWrite = false;\n    markerMat.alphaWrite = false;\n    markerMat.depthWrite = false;\n    markerMat.depthTest = false;\n    markerMat.stencilBack = markerMat.stencilFront = new pc.StencilParameters({\n        zpass: pc.STENCILOP_REPLACE,\n        ref: pc.mirrorCount\n    });\n    var marker = new pc.MeshInstance(meshInstance.node, meshInstance.mesh, markerMat);\n    pc.dipsMirrorMaterial.push(marker);\n    this.bit = pc.mirrorCount;\n    \n    this.srect = {x:0, y:0, width:1, height:1};\n    this.pointsW = [new pc.Vec3(), new pc.Vec3(), new pc.Vec3(), new pc.Vec3()];\n    var halfExtents = entity.getLocalScale();\n    var right = entity.right;\n    var up = entity.up;\n    var tmp = new pc.Vec3();\n\n    // tr\n    this.pointsW[0].copy(right).scale(halfExtents.x * 0.5 * MAX3D_SCALE);\n    tmp.copy(up).scale(halfExtents.y * 0.5 * MAX3D_SCALE);\n    this.pointsW[0].add(tmp).add(this.planePosW);\n    \n    // bl\n    this.pointsW[1].copy(right).scale(halfExtents.x * -0.5 * MAX3D_SCALE);\n    tmp.copy(up).scale(halfExtents.y * -0.5 * MAX3D_SCALE);\n    this.pointsW[1].add(tmp).add(this.planePosW);\n    \n    // tl\n    this.pointsW[2].copy(right).scale(halfExtents.x * -0.5 * MAX3D_SCALE);\n    tmp.copy(up).scale(halfExtents.y * 0.5 * MAX3D_SCALE);\n    this.pointsW[2].add(tmp).add(this.planePosW);\n    \n    // br\n    this.pointsW[3].copy(up).scale(halfExtents.y * -0.5 * MAX3D_SCALE);\n    tmp.copy(right).scale(halfExtents.x * 0.5 * MAX3D_SCALE);\n    this.pointsW[3].add(tmp).add(this.planePosW);\n    \n    this.pointsW4 = [new pc.Vec4(), new pc.Vec4(), new pc.Vec4(), new pc.Vec4()];\n    for(i=0; i<4; i++) {\n        this.pointsW4[i].x = this.pointsW[i].x;\n        this.pointsW4[i].y = this.pointsW[i].y;\n        this.pointsW4[i].z = this.pointsW[i].z;\n        this.pointsW4[i].w = 1.0;\n    }\n\n    this.clear = {\n            flags: 0\n    };\n    \n    this.clearFirst = {\n            color: [1, 0, 0, 1],\n            depth: 1.0,\n            stencil: 0,\n            flags: pc.CLEARFLAG_DEPTH | pc.CLEARFLAG_STENCIL\n    };\n  \n    this.state = MIRRORSTATE_FAR;\n    this.constDist = device.scope.resolve(\"distortionNearFade\");\n    this.constTrans = device.scope.resolve(\"mirrorTransition\");\n    \n    var bmin = meshInstance.aabb.getMin();\n    var bmax = meshInstance._aabb.getMax();\n    var bp = [new pc.Vec3(), new pc.Vec3(), new pc.Vec3(), new pc.Vec3(), new pc.Vec3(), new pc.Vec3(), new pc.Vec3(), new pc.Vec3()];\n    bp[0].set(bmin.x, bmin.y, bmin.z);\n    bp[1].set(bmax.x, bmin.y, bmin.z);\n    bp[2].set(bmax.x, bmax.y, bmin.z);\n    bp[3].set(bmin.x, bmax.y, bmin.z);\n\n    bp[4].set(bmin.x, bmin.y, bmax.z);\n    bp[5].set(bmax.x, bmin.y, bmax.z);\n    bp[6].set(bmax.x, bmax.y, bmax.z);\n    bp[7].set(bmin.x, bmax.y, bmax.z);\n    this.bp = bp;\n    \n    this.mConst = this.app.graphicsDevice.scope.resolve(\"world2refl\");    \n    \n    var cam = this.cam;\n    var comp = this.app.scene.layers;\n    var reflectionLayer = comp.getLayerByName(\"Mirror\");\n    var mirrorLayers = [reflectionLayer];\n    \n    var preFunction = function() {\n        // Apply reflected camera transformation before rendering\n        planePosWM = self.planePosW;\n        planeNormalWM = self.planeNormalW;\n        world2reflMirror = self.world2refl;\n        cam.calculateTransform = customTransformFuncMirror;\n        cam.calculateProjection = customProjFuncMirror;\n        cam.flipFaces = true;\n        self.app.renderer.updateCameraFrustum(cam.camera);\n    };\n\n    var postFunction = function() {\n        // Revert reflected camera transformation\n        cam.calculateTransform = null;\n        cam.calculateProjection = null;\n        cam.flipFaces = false;\n        self.app.renderer.updateCameraFrustum(cam.camera);\n    };\n    \n    for(i=0; i<mirrorLayers.length; i++) {\n        mirrorLayers[i].renderTarget = this.rt;\n        mirrorLayers[i].onPreCull = mirrorLayers[i].onPreRender = preFunction;\n        mirrorLayers[i].onPostCull = mirrorLayers[i].onPostRender = postFunction;\n        mirrorLayers[i].enabled = true;\n    }\n    \n    this.mirrorLayers = mirrorLayers;\n        \n    this.app.scene.on(\"set:skybox\", function() {\n        reflectionLayer.addMeshInstances(self.app.scene.skyboxModel.meshInstances);\n    });\n    this.wasVisible = true;\n    \n    this.app.graphicsDevice.on('resizecanvas', function() {\n        atf = {};\n        this._init = false;\n    }, this); \n};\n\n// update code called every frame\nMirrorMaterial.prototype.update = function(dt) {\n    \n    if (!this._init) {\n        this._init = 1;\n        return;\n    } else if (this._init===1) {\n        this.initialize();\n        this._init = 2;\n    }\n    \n    var visible = this.isVisible(this.cam);\n    if (visible !== this.wasVisible) {\n        for(var i=0; i<this.mirrorLayers.length; i++) {\n            this.mirrorLayers[i].enabled = visible;\n        }\n        this.wasVisible = visible;\n    }\n};\n\nMirrorMaterial.prototype.setSky = function(val) {\n    this.skyIsOn = val;\n    if (pc.fallbackMirrorMaterial) {\n        pc.fallbackMirrorMaterial.customFragmentShader = \n            (val? \"#define SKY\\n\" : \"\") + \n            \"#define SIMPLE\\n\" + pc.shaderChunks.rgbmPS + this.shaderPS.resource;\n        pc.fallbackMirrorMaterial.update();\n    }\n};\n\n\n","// fps.js\n// Just add this script to any object in the scene (usually Root) and it will \n// appear in the app as HTML overlay\n\nif (typeof(document) !== \"undefined\") {\n    /*! FPSMeter 0.3.1 - 9th May 2013 | https://github.com/Darsain/fpsmeter */\n    (function(m,j){function s(a,e){for(var g in e)try{a.style[g]=e[g]}catch(j){}return a}function H(a){return null==a?String(a):\"object\"===typeof a||\"function\"===typeof a?Object.prototype.toString.call(a).match(/\\s([a-z]+)/i)[1].toLowerCase()||\"object\":typeof a}function R(a,e){if(\"array\"!==H(e))return-1;if(e.indexOf)return e.indexOf(a);for(var g=0,j=e.length;g<j;g++)if(e[g]===a)return g;return-1}function I(){var a=arguments,e;for(e in a[1])if(a[1].hasOwnProperty(e))switch(H(a[1][e])){case \"object\":a[0][e]=\n    I({},a[0][e],a[1][e]);break;case \"array\":a[0][e]=a[1][e].slice(0);break;default:a[0][e]=a[1][e]}return 2<a.length?I.apply(null,[a[0]].concat(Array.prototype.slice.call(a,2))):a[0]}function N(a){a=Math.round(255*a).toString(16);return 1===a.length?\"0\"+a:a}function S(a,e,g,j){if(a.addEventListener)a[j?\"removeEventListener\":\"addEventListener\"](e,g,!1);else if(a.attachEvent)a[j?\"detachEvent\":\"attachEvent\"](\"on\"+e,g)}function D(a,e){function g(a,b,d,c){return y[0|a][Math.round(Math.min((b-d)/(c-d)*J,J))]}\n    function r(){f.legend.fps!==q&&(f.legend.fps=q,f.legend[T]=q?\"FPS\":\"ms\");K=q?b.fps:b.duration;f.count[T]=999<K?\"999+\":K.toFixed(99<K?0:d.decimals)}function m(){z=A();L<z-d.threshold&&(b.fps-=b.fps/Math.max(1,60*d.smoothing/d.interval),b.duration=1E3/b.fps);for(c=d.history;c--;)E[c]=0===c?b.fps:E[c-1],F[c]=0===c?b.duration:F[c-1];r();if(d.heat){if(w.length)for(c=w.length;c--;)w[c].el.style[h[w[c].name].heatOn]=q?g(h[w[c].name].heatmap,b.fps,0,d.maxFps):g(h[w[c].name].heatmap,b.duration,d.threshold,\n    0);if(f.graph&&h.column.heatOn)for(c=u.length;c--;)u[c].style[h.column.heatOn]=q?g(h.column.heatmap,E[c],0,d.maxFps):g(h.column.heatmap,F[c],d.threshold,0)}if(f.graph)for(p=0;p<d.history;p++)u[p].style.height=(q?E[p]?Math.round(O/d.maxFps*Math.min(E[p],d.maxFps)):0:F[p]?Math.round(O/d.threshold*Math.min(F[p],d.threshold)):0)+\"px\"}function k(){20>d.interval?(x=M(k),m()):(x=setTimeout(k,d.interval),P=M(m))}function G(a){a=a||window.event;a.preventDefault?(a.preventDefault(),a.stopPropagation()):(a.returnValue=\n    !1,a.cancelBubble=!0);b.toggle()}function U(){d.toggleOn&&S(f.container,d.toggleOn,G,1);a.removeChild(f.container)}function V(){f.container&&U();h=D.theme[d.theme];y=h.compiledHeatmaps||[];if(!y.length&&h.heatmaps.length){for(p=0;p<h.heatmaps.length;p++){y[p]=[];for(c=0;c<=J;c++){var b=y[p],e=c,g;g=0.33/J*c;var j=h.heatmaps[p].saturation,m=h.heatmaps[p].lightness,n=void 0,k=void 0,l=void 0,t=l=void 0,v=n=k=void 0,v=void 0,l=0.5>=m?m*(1+j):m+j-m*j;0===l?g=\"#000\":(t=2*m-l,k=(l-t)/l,g*=6,n=Math.floor(g),\n    v=g-n,v*=l*k,0===n||6===n?(n=l,k=t+v,l=t):1===n?(n=l-v,k=l,l=t):2===n?(n=t,k=l,l=t+v):3===n?(n=t,k=l-v):4===n?(n=t+v,k=t):(n=l,k=t,l-=v),g=\"#\"+N(n)+N(k)+N(l));b[e]=g}}h.compiledHeatmaps=y}f.container=s(document.createElement(\"div\"),h.container);f.count=f.container.appendChild(s(document.createElement(\"div\"),h.count));f.legend=f.container.appendChild(s(document.createElement(\"div\"),h.legend));f.graph=d.graph?f.container.appendChild(s(document.createElement(\"div\"),h.graph)):0;w.length=0;for(var q in f)f[q]&&\n    h[q].heatOn&&w.push({name:q,el:f[q]});u.length=0;if(f.graph){f.graph.style.width=d.history*h.column.width+(d.history-1)*h.column.spacing+\"px\";for(c=0;c<d.history;c++)u[c]=f.graph.appendChild(s(document.createElement(\"div\"),h.column)),u[c].style.position=\"absolute\",u[c].style.bottom=0,u[c].style.right=c*h.column.width+c*h.column.spacing+\"px\",u[c].style.width=h.column.width+\"px\",u[c].style.height=\"0px\"}s(f.container,d);r();a.appendChild(f.container);f.graph&&(O=f.graph.clientHeight);d.toggleOn&&(\"click\"===\n    d.toggleOn&&(f.container.style.cursor=\"pointer\"),S(f.container,d.toggleOn,G))}\"object\"===H(a)&&a.nodeType===j&&(e=a,a=document.body);a||(a=document.body);var b=this,d=I({},D.defaults,e||{}),f={},u=[],h,y,J=100,w=[],W=0,B=d.threshold,Q=0,L=A()-B,z,E=[],F=[],x,P,q=\"fps\"===d.show,O,K,c,p;b.options=d;b.fps=0;b.duration=0;b.isPaused=0;b.tickStart=function(){Q=A()};b.tick=function(){z=A();W=z-L;B+=(W-B)/d.smoothing;b.fps=1E3/B;b.duration=Q<L?B:z-Q;L=z};b.pause=function(){x&&(b.isPaused=1,clearTimeout(x),\n    C(x),C(P),x=P=0);return b};b.resume=function(){x||(b.isPaused=0,k());return b};b.set=function(a,c){d[a]=c;q=\"fps\"===d.show;-1!==R(a,X)&&V();-1!==R(a,Y)&&s(f.container,d);return b};b.showDuration=function(){b.set(\"show\",\"ms\");return b};b.showFps=function(){b.set(\"show\",\"fps\");return b};b.toggle=function(){b.set(\"show\",q?\"ms\":\"fps\");return b};b.hide=function(){b.pause();f.container.style.display=\"none\";return b};b.show=function(){b.resume();f.container.style.display=\"block\";return b};b.destroy=function(){b.pause();\n    U();b.tick=b.tickStart=function(){}};V();k()}var A,r=m.performance;A=r&&(r.now||r.webkitNow)?r[r.now?\"now\":\"webkitNow\"].bind(r):function(){return+new Date};for(var C=m.cancelAnimationFrame||m.cancelRequestAnimationFrame,M=m.requestAnimationFrame,r=[\"moz\",\"webkit\",\"o\"],G=0,k=0,Z=r.length;k<Z&&!C;++k)M=(C=m[r[k]+\"CancelAnimationFrame\"]||m[r[k]+\"CancelRequestAnimationFrame\"])&&m[r[k]+\"RequestAnimationFrame\"];C||(M=function(a){var e=A(),g=Math.max(0,16-(e-G));G=e+g;return m.setTimeout(function(){a(e+\n    g)},g)},C=function(a){clearTimeout(a)});var T=\"string\"===H(document.createElement(\"div\").textContent)?\"textContent\":\"innerText\";D.extend=I;window.FPSMeter=D;D.defaults={interval:100,smoothing:10,show:\"fps\",toggleOn:\"click\",decimals:1,maxFps:60,threshold:100,position:\"absolute\",zIndex:10,left:\"5px\",top:\"5px\",right:\"auto\",bottom:\"auto\",margin:\"0 0 0 0\",theme:\"dark\",heat:0,graph:0,history:20};var X=[\"toggleOn\",\"theme\",\"heat\",\"graph\",\"history\"],Y=\"position zIndex left top right bottom margin\".split(\" \")})(window);(function(m,j){j.theme={};var s=j.theme.base={heatmaps:[],container:{heatOn:null,heatmap:null,padding:\"5px\",minWidth:\"95px\",height:\"30px\",lineHeight:\"30px\",textAlign:\"right\",textShadow:\"none\"},count:{heatOn:null,heatmap:null,position:\"absolute\",top:0,right:0,padding:\"5px 10px\",height:\"30px\",fontSize:\"24px\",fontFamily:\"Consolas, Andale Mono, monospace\",zIndex:2},legend:{heatOn:null,heatmap:null,position:\"absolute\",top:0,left:0,padding:\"5px 10px\",height:\"30px\",fontSize:\"12px\",lineHeight:\"32px\",fontFamily:\"sans-serif\",\n    textAlign:\"left\",zIndex:2},graph:{heatOn:null,heatmap:null,position:\"relative\",boxSizing:\"padding-box\",MozBoxSizing:\"padding-box\",height:\"100%\",zIndex:1},column:{width:4,spacing:1,heatOn:null,heatmap:null}};j.theme.dark=j.extend({},s,{heatmaps:[{saturation:0.8,lightness:0.8}],container:{background:\"#222\",color:\"#fff\",border:\"1px solid #1a1a1a\",textShadow:\"1px 1px 0 #222\"},count:{heatOn:\"color\"},column:{background:\"#3f3f3f\"}});j.theme.light=j.extend({},s,{heatmaps:[{saturation:0.5,lightness:0.5}],\n    container:{color:\"#666\",background:\"#fff\",textShadow:\"1px 1px 0 rgba(255,255,255,.5), -1px -1px 0 rgba(255,255,255,.5)\",boxShadow:\"0 0 0 1px rgba(0,0,0,.1)\"},count:{heatOn:\"color\"},column:{background:\"#eaeaea\"}});j.theme.colorful=j.extend({},s,{heatmaps:[{saturation:0.5,lightness:0.6}],container:{heatOn:\"backgroundColor\",background:\"#888\",color:\"#fff\",textShadow:\"1px 1px 0 rgba(0,0,0,.2)\",boxShadow:\"0 0 0 1px rgba(0,0,0,.1)\"},column:{background:\"#777\",backgroundColor:\"rgba(0,0,0,.2)\"}});j.theme.transparent=\n    j.extend({},s,{heatmaps:[{saturation:0.8,lightness:0.5}],container:{padding:0,color:\"#fff\",textShadow:\"1px 1px 0 rgba(0,0,0,.5)\"},count:{padding:\"0 5px\",height:\"40px\",lineHeight:\"40px\"},legend:{padding:\"0 5px\",height:\"40px\",lineHeight:\"42px\"},graph:{height:\"40px\"},column:{width:5,background:\"#999\",heatOn:\"backgroundColor\",opacity:0.5}})})(window,FPSMeter);    \n}\n\nvar Fps = pc.createScript('fps');\n\nFps.prototype.initialize = function () {\n    this.fps = new FPSMeter({heat: true, graph: true});\n};\n\n    // Called every frame, dt is time in seconds since last update\nFps.prototype.update = function (dt) {\n    this.fps.tick();\n};\n\n\n","// loadingScreen.js\npc.script.createLoadingScreen(function (app) {\n    var showSplash = function () {\n        // splash wrapper\n        var wrapper = document.createElement('div');\n        wrapper.id = 'application-splash-wrapper';\n        document.body.appendChild(wrapper);\n\n        // splash\n        var splash = document.createElement('div');\n        splash.id = 'application-splash';\n        wrapper.appendChild(splash);\n        splash.style.display = 'none';\n\n        var logo = document.createElement('img');\n        logo.src = 'https://nate-configurator.netlify.app/img/Nate-Logo.svg';\n        splash.appendChild(logo);\n        logo.onload = function () {\n            splash.style.display = 'block';\n        };\n\n        var container = document.createElement('div');\n        container.id = 'progress-bar-container';\n        splash.appendChild(container);\n\n        var bar = document.createElement('div');\n        bar.id = 'progress-bar';\n        container.appendChild(bar);\n\n    };\n\n    var hideSplash = function () {\n        var splash = document.getElementById('application-splash-wrapper');\n        splash.parentElement.removeChild(splash);\n    };\n\n    var setProgress = function (value) {\n        var bar = document.getElementById('progress-bar');\n        if(bar) {\n            value = Math.min(1, Math.max(0, value));\n            bar.style.width = value * 100 + '%';\n        }\n    };\n\n    var createCss = function () {\n        var css = [\n            'body {',\n            '    background: white;',\n            '}',\n            '',\n            '#application-splash-wrapper {',\n            '    position: absolute;',\n            '    top: 0;',\n            '    left: 0;',\n            '    height: 100%;',\n            '    width: 100%;',\n            '    background: url(\"https://nate-configurator.netlify.app/img/Loading-Screen.png\") center no-repeat;',\n            '    background-size: cover;',\n            '}',\n            '',\n            '#application-splash {',\n            '    position: absolute;',\n            '    top: calc(50% - 28px);',\n            '    width: 264px;',\n            '    left: calc(50% - 132px);',\n            '}',\n            '',\n            '#application-splash img {',\n            '    width: 100%;',\n            '}',\n            '',\n            '#progress-bar-container {',\n            '    margin: 20px auto 0 auto;',\n            '    height: 4px;',\n            '    border-radius: 2px;',\n            '    width: 100%;',\n            '    background-color: #e6bcb6;',\n            '}',\n            '',\n            '#progress-bar {',\n            '    width: 0%;',\n            '    height: 100%;',\n            '    background-color: #815890;',\n            '}',\n            '',\n            '@media (max-width: 480px) {',\n            '    #application-splash {',\n            '        width: 170px;',\n            '        left: calc(50% - 85px);',\n            '    }',\n            '}'\n        ].join('\\n');\n\n        var style = document.createElement('style');\n        style.type = 'text/css';\n        if (style.styleSheet) {\n            style.styleSheet.cssText = css;\n        } else {\n            style.appendChild(document.createTextNode(css));\n        }\n\n        document.head.appendChild(style);\n    };\n\n    createCss();\n    showSplash();\n\n    app.on('preload:end', function () {\n        app.off('preload:progress');\n    });\n    app.on('preload:progress', setProgress);\n    app.on('start', hideSplash);\n});\n\n","// tween.js\npc.extend(pc, function () {\n\n    /**\n     * @name pc.TweenManager\n     * @description Handles updating tweens\n     * @param {pc.Application} app  The application\n     */\n    var TweenManager = function (app) {\n        this._app = app;\n        this._tweens = [];\n        this._add = []; // to be added\n    };\n\n    TweenManager.prototype = {\n        add: function (tween) {\n            this._add.push(tween);\n            return tween;\n        },\n\n        update: function (dt) {\n            var i = 0;\n            var n = this._tweens.length;\n            while (i < n) {\n                if (this._tweens[i].update(dt)) {\n                    i++;\n                } else {\n                    this._tweens.splice(i, 1);\n                    n--;\n                }\n            }\n\n            // add any tweens that were added mid-update\n            if (this._add.length) {\n                this._tweens = this._tweens.concat(this._add);\n                this._add.length = 0;\n            }\n        }\n    };\n\n    /**\n     * @name  pc.Tween\n     * @param {Object} target The target property that will be tweened\n     * @param {pc.TweenManager} manager The tween manager\n     * @param {pc.Entity} entity The pc.Entity whose property we are tweening\n     */\n    var Tween = function (target, manager, entity) {\n        pc.events.attach(this);\n\n        this.manager = manager;\n\n        if (entity) {\n            this.entity = null; // if present the tween will dirty the transforms after modify the target\n        }\n\n        this.time = 0;\n\n        this.complete = false;\n        this.playing = false;\n        this.stopped = true;\n        this.pending = false;\n\n        this.target = target;\n\n        this.duration = 0;\n        this._currentDelay = 0;\n        this.timeScale = 1;\n        this._reverse = false;\n\n        this._delay = 0;\n        this._yoyo = false;\n\n        this._count = 0;\n        this._numRepeats = 0;\n        this._repeatDelay = 0;\n\n        this._from = false; // indicates a \"from\" tween\n\n        // for rotation tween\n        this._slerp = false; // indicates a rotation tween\n        this._fromQuat = new pc.Quat();\n        this._toQuat = new pc.Quat();\n        this._quat = new pc.Quat();\n\n        this.easing = pc.Linear;\n\n        this._sv = {}; // start values\n        this._ev = {}; // end values\n    };\n\n    var _parseProperties = function (properties) {\n        var _properties;\n        if (properties instanceof pc.Vec2) {\n            _properties = {\n                x: properties.x,\n                y: properties.y\n            };\n        } else if (properties instanceof pc.Vec3) {\n            _properties = {\n                x: properties.x,\n                y: properties.y,\n                z: properties.z\n            };\n        } else if (properties instanceof pc.Vec4) {\n            _properties = {\n                x: properties.x,\n                y: properties.y,\n                z: properties.z,\n                w: properties.w\n            };\n        } else if (properties instanceof pc.Quat) {\n            _properties = {\n                x: properties.x,\n                y: properties.y,\n                z: properties.z,\n                w: properties.w\n            };\n        } else if (properties instanceof pc.Color) {\n            _properties = {\n                r: properties.r,\n                g: properties.g,\n                b: properties.b,\n            };\n            if (properties.a !== undefined) {\n                _properties.a = properties.a;\n            }\n        } else {\n            _properties = properties;\n        }\n        return _properties;\n    }\n    Tween.prototype = {\n        // properties - js obj of values to update in target\n        to: function (properties, duration, easing, delay, repeat, yoyo) {\n            this._properties = _parseProperties(properties);\n            this.duration = duration;\n\n            if (easing) this.easing = easing;\n            if (delay) {\n                this.delay(delay);\n            }\n            if (repeat) {\n                this.repeat(repeat);\n            }\n\n            if (yoyo) {\n                this.yoyo(yoyo);\n            }\n\n            return this;\n        },\n\n        from: function (properties, duration, easing, delay, repeat, yoyo) {\n            this._properties = _parseProperties(properties);\n            this.duration = duration;\n\n            if (easing) this.easing = easing;\n            if (delay) {\n                this.delay(delay);\n            }\n            if (repeat) {\n                this.repeat(repeat);\n            }\n\n            if (yoyo) {\n                this.yoyo(yoyo);\n            }\n\n            this._from = true;\n\n            return this;\n        },\n\n        rotate: function (properties, duration, easing, delay, repeat, yoyo) {\n            this._properties = _parseProperties(properties);\n\n            this.duration = duration;\n\n            if (easing) this.easing = easing;\n            if (delay) {\n                this.delay(delay);\n            }\n            if (repeat) {\n                this.repeat(repeat);\n            }\n\n            if (yoyo) {\n                this.yoyo(yoyo);\n            }\n\n            this._slerp = true;\n\n            return this;\n        },\n\n        start: function () {\n            var prop, _x, _y, _z;\n\n            this.playing = true;\n            this.complete = false;\n            this.stopped = false;\n            this._count = 0;\n            this.pending = (this._delay > 0);\n\n            if (this._reverse && !this.pending) {\n                this.time = this.duration;\n            } else {\n                this.time = 0;\n            }\n\n            if (this._from) {\n                for (prop in this._properties) {\n                    if (this._properties.hasOwnProperty(prop)) {\n                        this._sv[prop] = this._properties[prop];\n                        this._ev[prop] = this.target[prop];\n                    }\n                }\n\n                if (this._slerp) {\n                    this._toQuat.setFromEulerAngles(this.target.x, this.target.y, this.target.z);\n\n                    _x = this._properties.x !== undefined ? this._properties.x : this.target.x;\n                    _y = this._properties.y !== undefined ? this._properties.y : this.target.y;\n                    _z = this._properties.z !== undefined ? this._properties.z : this.target.z;\n                    this._fromQuat.setFromEulerAngles(_x, _y, _z);\n                }\n            } else {\n                for (prop in this._properties) {\n                    if (this._properties.hasOwnProperty(prop)) {\n                        this._sv[prop] = this.target[prop];\n                        this._ev[prop] = this._properties[prop];\n                    }\n                }\n\n                if (this._slerp) {\n                    this._fromQuat.setFromEulerAngles(this.target.x, this.target.y, this.target.z);\n\n                    _x = this._properties.x !== undefined ? this._properties.x : this.target.x;\n                    _y = this._properties.y !== undefined ? this._properties.y : this.target.y;\n                    _z = this._properties.z !== undefined ? this._properties.z : this.target.z;\n                    this._toQuat.setFromEulerAngles(_x, _y, _z);\n                }\n            }\n\n            // set delay\n            this._currentDelay = this._delay;\n\n            // add to manager when started\n            this.manager.add(this);\n\n            return this;\n        },\n\n        pause: function () {\n            this.playing = false;\n        },\n\n        resume: function () {\n            this.playing = true;\n        },\n\n        stop: function () {\n            this.playing = false;\n            this.stopped = true;\n        },\n\n        delay: function (delay) {\n            this._delay = delay;\n            this.pending = true;\n\n            return this;\n        },\n\n        repeat: function (num, delay) {\n            this._count = 0;\n            this._numRepeats = num;\n            if (delay) {\n                this._repeatDelay = delay;\n            } else {\n                this._repeatDelay = 0;\n            }\n\n            return this;\n        },\n\n        loop: function (loop) {\n            if (loop) {\n                this._count = 0;\n                this._numRepeats = Infinity;\n            } else {\n                this._numRepeats = 0;\n            }\n\n            return this;\n        },\n\n        yoyo: function (yoyo) {\n            this._yoyo = yoyo;\n            return this;\n        },\n\n        reverse: function () {\n            this._reverse = !this._reverse;\n\n            return this;\n        },\n\n        chain: function () {\n            var n = arguments.length;\n\n            while(n--) {\n                if (n > 0) {\n                    arguments[n-1]._chained = arguments[n];\n                } else {\n                    this._chained = arguments[n];\n                }\n            }\n\n            return this;\n        },\n\n        update: function (dt) {\n            if (this.stopped) return false;\n\n            if (!this.playing) return true;\n\n            if (!this._reverse || this.pending) {\n                this.time += dt*this.timeScale;\n            } else {\n                this.time -= dt*this.timeScale;\n            }\n\n            // delay start if required\n            if (this.pending) {\n                if (this.time > this._currentDelay) {\n                    if (this._reverse) {\n                        this.time = this.duration - (this.time - this._currentDelay);\n                    } else {\n                        this.time = this.time - this._currentDelay;\n                    }\n                    this.pending = false;\n                } else {\n                    return true;\n                }\n            }\n\n            var _extra = 0;\n            if ((!this._reverse && this.time > this.duration) || (this._reverse && this.time < 0)){\n                this._count++;\n                this.complete = true;\n                this.playing = false;\n                if (this._reverse) {\n                    _extra = this.duration - this.time;\n                    this.time = 0;\n                } else {\n                    _extra = this.time - this.duration;\n                    this.time = this.duration;\n                }\n            }\n\n            var elapsed = (this.duration === 0) ? 1 : (this.time / this.duration);\n\n            // run easing\n            var a = this.easing(elapsed);\n\n            // increment property\n            var s,e,d;\n            for (var prop in this._properties) {\n                if (this._properties.hasOwnProperty(prop)) {\n                    s = this._sv[prop];\n                    e = this._ev[prop];\n                    this.target[prop] = s + (e - s) * a;\n                }\n            }\n\n            if (this._slerp) {\n                this._quat.slerp(this._fromQuat, this._toQuat, a);\n            }\n\n            // if this is a entity property then we should dirty the transform\n            if (this.entity) {\n                this.entity._dirtifyLocal();\n\n                // apply element property changes\n                if (this.element && this.entity.element) {\n                    this.entity.element[this.element] = this.target;\n                }\n\n                if (this._slerp) {\n                    this.entity.setLocalRotation(this._quat);\n                }\n            }\n\n            this.fire(\"update\", dt);\n\n            if (this.complete) {\n                var repeat = this._repeat(_extra);\n                if (!repeat) {\n                    this.fire(\"complete\", _extra);\n                    if (this.entity)\n                        this.entity.off('destroy', this.stop, this);\n                    if (this._chained) this._chained.start();\n                } else {\n                    this.fire(\"loop\");\n                }\n\n                return repeat;\n            }\n\n            return true;\n        },\n\n        _repeat: function (extra) {\n            // test for repeat conditions\n            if (this._count < this._numRepeats) {\n                // do a repeat\n                if (this._reverse) {\n                    this.time = this.duration - extra;\n                } else {\n                    this.time = extra; // include overspill time\n                }\n                this.complete = false;\n                this.playing = true;\n\n                this._currentDelay = this._repeatDelay;\n                this.pending = true;\n\n                if (this._yoyo) {\n                    // swap start/end properties\n                    for (var prop in this._properties) {\n                        var tmp = this._sv[prop];\n                        this._sv[prop] = this._ev[prop];\n                        this._ev[prop] = tmp;\n                    }\n\n                    if (this._slerp) {\n                        this._quat.copy(this._fromQuat);\n                        this._fromQuat.copy(this._toQuat);\n                        this._toQuat.copy(this._quat);\n                    }\n                }\n\n                return true;\n            }\n            return false;\n        },\n\n    };\n\n\n    /**\n     * Easing methods\n     */\n\n    var Linear = function (k) {\n        return k;\n    };\n\n    var QuadraticIn = function (k) {\n        return k * k;\n    };\n\n    var QuadraticOut = function (k) {\n        return k * (2 - k);\n    };\n\n    var QuadraticInOut = function (k) {\n        if ((k *= 2) < 1) {\n            return 0.5 * k * k;\n        }\n        return -0.5 * (--k * (k - 2) - 1);\n    };\n\n    var CubicIn = function (k) {\n        return k * k * k;\n    };\n\n    var CubicOut = function (k) {\n        return --k * k * k + 1;\n    };\n\n    var CubicInOut = function (k) {\n        if ( ( k *= 2 ) < 1 ) return 0.5 * k * k * k;\n        return 0.5 * ( ( k -= 2 ) * k * k + 2 );\n    };\n\n    var QuarticIn = function (k) {\n            return k * k * k * k;\n    };\n\n    var QuarticOut = function (k) {\n        return 1 - ( --k * k * k * k );\n    };\n\n    var QuarticInOut = function (k) {\n        if ( ( k *= 2 ) < 1) return 0.5 * k * k * k * k;\n        return - 0.5 * ( ( k -= 2 ) * k * k * k - 2 );\n    };\n\n    var QuinticIn = function (k) {\n            return k * k * k * k * k;\n    };\n\n    var QuinticOut = function (k) {\n            return --k * k * k * k * k + 1;\n    };\n\n    var QuinticInOut = function (k) {\n        if ( ( k *= 2 ) < 1 ) return 0.5 * k * k * k * k * k;\n        return 0.5 * ( ( k -= 2 ) * k * k * k * k + 2 );\n    };\n\n    var SineIn = function (k) {\n        if (k === 0) return 0;\n        if (k === 1) return 1;\n        return 1 - Math.cos( k * Math.PI / 2 );\n    };\n\n    var SineOut = function (k) {\n        if (k === 0) return 0;\n        if (k === 1) return 1;\n        return Math.sin( k * Math.PI / 2 );\n    };\n\n    var SineInOut = function (k) {\n        if (k === 0) return 0;\n        if (k === 1) return 1;\n        return 0.5 * ( 1 - Math.cos( Math.PI * k ) );\n    };\n\n    var ExponentialIn = function (k) {\n        return k === 0 ? 0 : Math.pow( 1024, k - 1 );\n    };\n\n    var ExponentialOut = function (k) {\n        return k === 1 ? 1 : 1 - Math.pow( 2, - 10 * k );\n    };\n\n    var ExponentialInOut = function (k) {\n        if ( k === 0 ) return 0;\n        if ( k === 1 ) return 1;\n        if ( ( k *= 2 ) < 1 ) return 0.5 * Math.pow( 1024, k - 1 );\n        return 0.5 * ( - Math.pow( 2, - 10 * ( k - 1 ) ) + 2 );\n    };\n\n    var CircularIn = function (k) {\n        return 1 - Math.sqrt( 1 - k * k );\n    };\n\n    var CircularOut = function (k) {\n        return Math.sqrt( 1 - ( --k * k ) );\n    };\n\n    var CircularInOut = function (k) {\n        if ( ( k *= 2 ) < 1) return - 0.5 * ( Math.sqrt( 1 - k * k) - 1);\n        return 0.5 * ( Math.sqrt( 1 - ( k -= 2) * k) + 1);\n    };\n\n    var ElasticIn = function (k) {\n        var s, a = 0.1, p = 0.4;\n        if ( k === 0 ) return 0;\n        if ( k === 1 ) return 1;\n        if ( !a || a < 1 ) { a = 1; s = p / 4; }\n        else s = p * Math.asin( 1 / a ) / ( 2 * Math.PI );\n        return - ( a * Math.pow( 2, 10 * ( k -= 1 ) ) * Math.sin( ( k - s ) * ( 2 * Math.PI ) / p ) );\n    };\n\n    var ElasticOut = function (k) {\n        var s, a = 0.1, p = 0.4;\n        if ( k === 0 ) return 0;\n        if ( k === 1 ) return 1;\n        if ( !a || a < 1 ) { a = 1; s = p / 4; }\n        else s = p * Math.asin( 1 / a ) / ( 2 * Math.PI );\n        return ( a * Math.pow( 2, - 10 * k) * Math.sin( ( k - s ) * ( 2 * Math.PI ) / p ) + 1 );\n    };\n\n    var ElasticInOut = function (k) {\n        var s, a = 0.1, p = 0.4;\n        if ( k === 0 ) return 0;\n        if ( k === 1 ) return 1;\n        if ( !a || a < 1 ) { a = 1; s = p / 4; }\n        else s = p * Math.asin( 1 / a ) / ( 2 * Math.PI );\n        if ( ( k *= 2 ) < 1 ) return - 0.5 * ( a * Math.pow( 2, 10 * ( k -= 1 ) ) * Math.sin( ( k - s ) * ( 2 * Math.PI ) / p ) );\n        return a * Math.pow( 2, -10 * ( k -= 1 ) ) * Math.sin( ( k - s ) * ( 2 * Math.PI ) / p ) * 0.5 + 1;\n    };\n\n    var BackIn = function (k) {\n            var s = 1.70158;\n            return k * k * ( ( s + 1 ) * k - s );\n    };\n\n    var BackOut = function (k) {\n        var s = 1.70158;\n        return --k * k * ( ( s + 1 ) * k + s ) + 1;\n    };\n\n    var BackInOut = function (k) {\n        var s = 1.70158 * 1.525;\n        if ( ( k *= 2 ) < 1 ) return 0.5 * ( k * k * ( ( s + 1 ) * k - s ) );\n        return 0.5 * ( ( k -= 2 ) * k * ( ( s + 1 ) * k + s ) + 2 );\n    };\n\n    var BounceIn = function (k) {\n        return 1 - BounceOut( 1 - k );\n    };\n\n    var BounceOut = function (k) {\n        if ( k < ( 1 / 2.75 ) ) {\n            return 7.5625 * k * k;\n        } else if ( k < ( 2 / 2.75 ) ) {\n            return 7.5625 * ( k -= ( 1.5 / 2.75 ) ) * k + 0.75;\n        } else if ( k < ( 2.5 / 2.75 ) ) {\n            return 7.5625 * ( k -= ( 2.25 / 2.75 ) ) * k + 0.9375;\n        } else {\n            return 7.5625 * ( k -= ( 2.625 / 2.75 ) ) * k + 0.984375;\n        }\n    };\n\n    var BounceInOut = function (k) {\n        if ( k < 0.5 ) return BounceIn( k * 2 ) * 0.5;\n        return BounceOut( k * 2 - 1 ) * 0.5 + 0.5;\n    };\n\n    return {\n        TweenManager: TweenManager,\n        Tween: Tween,\n        Linear: Linear,\n        QuadraticIn: QuadraticIn,\n        QuadraticOut: QuadraticOut,\n        QuadraticInOut: QuadraticInOut,\n        CubicIn: CubicIn,\n        CubicOut: CubicOut,\n        CubicInOut: CubicInOut,\n        QuarticIn: QuarticIn,\n        QuarticOut: QuarticOut,\n        QuarticInOut: QuarticInOut,\n        QuinticIn: QuinticIn,\n        QuinticOut: QuinticOut,\n        QuinticInOut: QuinticInOut,\n        SineIn: SineIn,\n        SineOut: SineOut,\n        SineInOut: SineInOut,\n        ExponentialIn: ExponentialIn,\n        ExponentialOut: ExponentialOut,\n        ExponentialInOut: ExponentialInOut,\n        CircularIn: CircularIn,\n        CircularOut: CircularOut,\n        CircularInOut: CircularInOut,\n        BackIn: BackIn,\n        BackOut: BackOut,\n        BackInOut: BackInOut,\n        BounceIn: BounceIn,\n        BounceOut: BounceOut,\n        BounceInOut: BounceInOut,\n        ElasticIn: ElasticIn,\n        ElasticOut: ElasticOut,\n        ElasticInOut: ElasticInOut\n    };\n}());\n\n// Expose prototype methods and create a default tween manager on the application\n(function () {\n    // Add pc.Application#addTweenManager method\n    pc.Application.prototype.addTweenManager = function () {\n        this._tweenManager = new pc.TweenManager(this);\n\n        this.on(\"update\", function (dt) {\n            this._tweenManager.update(dt);\n        });\n    };\n\n    // Add pc.Application#tween method\n    pc.Application.prototype.tween = function (target) {\n        return new pc.Tween(target, this._tweenManager);\n    };\n\n    // Add pc.Entity#tween method\n    pc.Entity.prototype.tween = function (target, options) {\n        var tween = this._app.tween(target);\n        tween.entity = this;\n\n        this.once('destroy', tween.stop, tween);\n\n        if (options && options.element) {\n            // specifiy a element property to be updated\n            tween.element = options.element;\n        }\n        return tween;\n    };\n\n    // Create a default tween manager on the application\n    var application = pc.Application.getApplication();\n    if (application) {\n        application.addTweenManager();\n    }\n})();\n\n\n"]}